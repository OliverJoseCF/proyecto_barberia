# ‚úÖ Checklist de Pruebas - Gesti√≥n de Barberos y Galer√≠a

## üìã Preparaci√≥n

- [ ] Ejecutado script `configuracion-barberos-galeria.sql` en Supabase
- [ ] Verificado que existan datos de prueba en las tablas (3 barberos, 6 im√°genes)
- [ ] Configurado Supabase Storage (buckets: `barberos` y `galeria`) *(Opcional - para subida de im√°genes)*

---

## üßë‚Äçüíº Gesti√≥n de Barberos - Admin Panel

### ‚ûï Agregar Barbero

- [ ] Ir a `/admin/settings` ‚Üí **Gesti√≥n de Barberos**
- [ ] Click en bot√≥n **"Agregar Barbero"**
- [ ] Llenar formulario:
  - [ ] Nombre: "Prueba Test" ‚úÖ (Requerido)
  - [ ] Especialidad: "Cortes Modernos"
  - [ ] Email: "prueba@test.com"
  - [ ] Tel√©fono: "5551234567"
  - [ ] Foto URL: `https://placehold.co/150x150/1a1a1a/gold?text=PT`
  - [ ] Biograf√≠a: "Barbero de prueba para testing"
  - [ ] Horario Preferido: "Lun-Vie 9AM-5PM"
  - [ ] Orden: 99
  - [ ] Activo: ‚úÖ
- [ ] Click en **"Guardar"**
- [ ] **Resultado Esperado**: 
  - ‚úÖ Mensaje de √©xito "Barbero agregado correctamente"
  - ‚úÖ Modal se cierra
  - ‚úÖ **Barbero aparece INMEDIATAMENTE** en la lista (sin recargar p√°gina)
  - ‚úÖ Tarjeta muestra foto, nombre, especialidad, badges

### ‚úèÔ∏è Editar Barbero

- [ ] Click en bot√≥n **Editar** (√≠cono l√°piz) de "Prueba Test"
- [ ] Modal se abre con datos prellenados
- [ ] Cambiar:
  - [ ] Especialidad: "Dise√±os Capilares"
  - [ ] Biograf√≠a: "Barbero actualizado"
- [ ] Click en **"Actualizar"**
- [ ] **Resultado Esperado**:
  - ‚úÖ Mensaje "Barbero actualizado correctamente"
  - ‚úÖ Cambios se reflejan INMEDIATAMENTE en la tarjeta

### üëÅÔ∏è Toggle Activo/Inactivo

- [ ] Click en √≠cono de **ojo** en tarjeta de "Prueba Test"
- [ ] **Resultado Esperado**:
  - ‚úÖ Badge cambia de "Activo" (verde) a "Inactivo" (rojo)
  - ‚úÖ √çcono cambia de ojo abierto a ojo cerrado
  - ‚úÖ Cambio es INSTANT√ÅNEO
- [ ] Click nuevamente para activar
- [ ] **Resultado**: Badge vuelve a "Activo" (verde)

### üîç B√∫squeda y Filtros

- [ ] En barra de b√∫squeda, escribir "Carlos"
- [ ] **Resultado**: Solo aparecen barberos con "Carlos" en nombre/especialidad/email
- [ ] Borrar b√∫squeda
- [ ] **Resultado**: Todos los barberos vuelven a aparecer

### üóëÔ∏è Eliminar Barbero

- [ ] Click en bot√≥n **Eliminar** (√≠cono basura) de "Prueba Test"
- [ ] Aparece di√°logo de confirmaci√≥n
- [ ] Click en **"Aceptar"**
- [ ] **Resultado Esperado**:
  - ‚úÖ Mensaje "Barbero eliminado correctamente"
  - ‚úÖ Tarjeta desaparece INMEDIATAMENTE

---

## üñºÔ∏è Gesti√≥n de Galer√≠a - Admin Panel

### ‚ûï Agregar Imagen

- [ ] Ir a `/admin/settings` ‚Üí **Gesti√≥n de Galer√≠a**
- [ ] Click en **"Agregar Imagen"**
- [ ] Llenar formulario:
  - [ ] T√≠tulo: "Corte de Prueba" ‚úÖ (Requerido)
  - [ ] Imagen URL: `https://placehold.co/400x400/1a1a1a/gold?text=Test` ‚úÖ (Requerido)
  - [ ] Descripci√≥n: "Esta es una imagen de prueba"
  - [ ] Categor√≠a: "Cortes"
  - [ ] Orden: 99
  - [ ] Activo: ‚úÖ
- [ ] Click en **"Guardar"**
- [ ] **Resultado Esperado**:
  - ‚úÖ Mensaje "Imagen agregada correctamente"
  - ‚úÖ Modal se cierra
  - ‚úÖ Imagen aparece INMEDIATAMENTE en el grid
  - ‚úÖ Preview de imagen visible
  - ‚úÖ Badges de categor√≠a y estado presentes

### üñºÔ∏è Preview de Imagen

- [ ] En el formulario de agregar/editar, pegar URL de imagen
- [ ] **Resultado**: Preview de imagen aparece arriba del campo URL
- [ ] Cambiar URL a una inv√°lida
- [ ] **Resultado**: Placeholder de error se muestra

### ‚úèÔ∏è Editar Imagen

- [ ] Hacer hover sobre tarjeta de "Corte de Prueba"
- [ ] Aparece overlay oscuro con botones
- [ ] Click en bot√≥n **Editar** (√≠cono l√°piz)
- [ ] Cambiar:
  - [ ] T√≠tulo: "Corte Modificado"
  - [ ] Categor√≠a: "Dise√±os"
- [ ] Click en **"Actualizar"**
- [ ] **Resultado**: Cambios se reflejan INMEDIATAMENTE

### üîç Filtros

**Por B√∫squeda:**
- [ ] Escribir "Fade" en b√∫squeda
- [ ] **Resultado**: Solo aparecen im√°genes con "Fade" en t√≠tulo o descripci√≥n

**Por Categor√≠a:**
- [ ] En dropdown de categor√≠as, seleccionar "Cortes"
- [ ] **Resultado**: Solo im√°genes de categor√≠a "Cortes"
- [ ] Seleccionar "Todas las categor√≠as"
- [ ] **Resultado**: Todas las im√°genes vuelven a aparecer

### üëÅÔ∏è Toggle Activo/Inactivo

- [ ] Hacer hover sobre tarjeta de "Corte de Prueba"
- [ ] Click en bot√≥n **ojo** (verde)
- [ ] **Resultado**:
  - ‚úÖ Badge cambia a "Inactiva" (rojo)
  - ‚úÖ Bot√≥n se vuelve rojo con ojo cerrado
  - ‚úÖ Cambio INSTANT√ÅNEO

### üóëÔ∏è Eliminar Imagen

- [ ] Hover sobre "Corte de Prueba"
- [ ] Click en bot√≥n **Eliminar** (rojo)
- [ ] Confirmar eliminaci√≥n
- [ ] **Resultado**:
  - ‚úÖ Mensaje "Imagen eliminada correctamente"
  - ‚úÖ Tarjeta desaparece INMEDIATAMENTE

---

## üë• P√°gina P√∫blica - Team (Equipo)

### Visualizaci√≥n B√°sica

- [ ] Ir a `/` (p√°gina principal)
- [ ] Scroll hasta secci√≥n **"Nuestro Equipo"**
- [ ] **Resultado Esperado**:
  - ‚úÖ Aparecen barberos de la base de datos
  - ‚úÖ Solo barberos con `activo = true`
  - ‚úÖ Fotos de perfil se cargan correctamente
  - ‚úÖ Nombres y especialidades visibles
  - ‚úÖ Biograf√≠a se muestra (si existe)
  - ‚úÖ Horario preferido se muestra (si existe)

### Estados de Carga

- [ ] Recargar p√°gina con throttling de red lento
- [ ] **Resultado**: Spinner de carga aparece mientras se obtienen barberos
- [ ] Una vez cargado: Grid de tarjetas aparece con animaciones

### Sin Barberos Activos

- [ ] En admin, desactivar TODOS los barberos
- [ ] Ir a p√°gina p√∫blica
- [ ] **Resultado**:
  - ‚úÖ √çcono de usuario vac√≠o
  - ‚úÖ Mensaje "No hay barberos disponibles en este momento"

### Animaciones

- [ ] Recargar p√°gina
- [ ] Scroll hasta secci√≥n de Equipo
- [ ] **Resultado**: 
  - ‚úÖ T√≠tulo aparece con animaci√≥n desde la izquierda
  - ‚úÖ Descripci√≥n desde la derecha
  - ‚úÖ Tarjetas aparecen con fadeIn y scale
  - ‚úÖ Hover sobre foto: efecto scale 1.1

---

## üñºÔ∏è P√°gina P√∫blica - Gallery (Galer√≠a)

### Visualizaci√≥n B√°sica

- [ ] En p√°gina principal, scroll hasta **"Nuestro Trabajo"**
- [ ] **Resultado Esperado**:
  - ‚úÖ Carrusel con im√°genes de la base de datos
  - ‚úÖ Solo im√°genes con `activo = true`
  - ‚úÖ T√≠tulos visibles en cada slide
  - ‚úÖ Botones de navegaci√≥n funcionan
  - ‚úÖ Auto-play activado

### Estados de Carga

- [ ] Recargar con throttling lento
- [ ] **Resultado**: Spinner mientras carga im√°genes
- [ ] Despu√©s: Carrusel aparece con animaci√≥n

### Sin Im√°genes Activas

- [ ] En admin, desactivar TODAS las im√°genes
- [ ] Ir a p√°gina p√∫blica
- [ ] **Resultado**:
  - ‚úÖ √çcono de imagen vac√≠o
  - ‚úÖ Mensaje "No hay im√°genes disponibles en la galer√≠a"

### Interactividad del Carrusel

- [ ] Click en flecha derecha
- [ ] **Resultado**: Siguiente imagen con transici√≥n suave
- [ ] Click en flecha izquierda
- [ ] **Resultado**: Imagen anterior
- [ ] Esperar sin interactuar
- [ ] **Resultado**: Auto-avanza cada 5 segundos

---

## üîÑ Realtime - Sincronizaci√≥n en Tiempo Real

### Test con Dos Pesta√±as

**Setup:**
- [ ] Abrir pesta√±a 1: Admin Panel - Gesti√≥n de Barberos
- [ ] Abrir pesta√±a 2: P√°gina p√∫blica - Secci√≥n Equipo

**Agregar Barbero:**
- [ ] En pesta√±a 1: Agregar nuevo barbero "Realtime Test"
- [ ] **Resultado en pesta√±a 2**: ¬°El barbero aparece AUTOM√ÅTICAMENTE sin recargar!

**Editar Barbero:**
- [ ] En pesta√±a 1: Editar nombre a "Realtime Test Updated"
- [ ] **Resultado en pesta√±a 2**: Nombre se actualiza AUTOM√ÅTICAMENTE

**Desactivar Barbero:**
- [ ] En pesta√±a 1: Desactivar "Realtime Test Updated"
- [ ] **Resultado en pesta√±a 2**: ¬°Desaparece AUTOM√ÅTICAMENTE de la lista!

**Eliminar Barbero:**
- [ ] En pesta√±a 1: Eliminar barbero
- [ ] **Resultado en pesta√±a 2**: Ya no aparece (si es que volviste a activar)

### Test con Galer√≠a

**Setup:**
- [ ] Pesta√±a 1: Admin - Gesti√≥n de Galer√≠a
- [ ] Pesta√±a 2: P√°gina p√∫blica - Secci√≥n Galer√≠a

**Agregar Imagen:**
- [ ] En pesta√±a 1: Agregar "Test Realtime Image"
- [ ] **Resultado en pesta√±a 2**: Aparece nueva slide en carrusel AUTOM√ÅTICAMENTE

**Editar Imagen:**
- [ ] En pesta√±a 1: Cambiar t√≠tulo a "Updated Realtime"
- [ ] **Resultado en pesta√±a 2**: T√≠tulo se actualiza en slide

**Desactivar Imagen:**
- [ ] En pesta√±a 1: Desactivar imagen
- [ ] **Resultado en pesta√±a 2**: Slide desaparece del carrusel

---

## üì§ Subida de Im√°genes (Storage) - Opcional

> ‚ö†Ô∏è **REQUIERE**: Configuraci√≥n de Supabase Storage completada

### Subir Foto de Barbero

- [ ] Admin ‚Üí Gesti√≥n de Barberos ‚Üí Agregar
- [ ] Click en bot√≥n de **Upload** (üì§)
- [ ] Seleccionar imagen JPG/PNG (m√°x 2MB)
- [ ] **Resultado**:
  - ‚úÖ Mensaje "Imagen subida correctamente"
  - ‚úÖ Preview aparece en formulario
  - ‚úÖ Campo `foto_url` se llena autom√°ticamente con URL p√∫blica
- [ ] Guardar barbero
- [ ] **Resultado**: Foto se muestra en tarjeta

### Subir Imagen de Galer√≠a

- [ ] Admin ‚Üí Gesti√≥n de Galer√≠a ‚Üí Agregar
- [ ] Click en bot√≥n **Upload**
- [ ] Seleccionar imagen JPG/PNG (m√°x 5MB)
- [ ] **Resultado**: Igual que barberos
- [ ] Guardar imagen
- [ ] **Resultado**: Aparece en grid y en carrusel p√∫blico

### Errores de Validaci√≥n

- [ ] Intentar subir archivo PDF
- [ ] **Resultado**: Error "Solo se permiten im√°genes"
- [ ] Intentar subir imagen de 10MB
- [ ] **Resultado**: Error "La imagen no debe superar [2/5]MB"

---

## üêõ Casos Edge y Errores

### URLs Inv√°lidas

- [ ] Agregar barbero con URL de foto rota: `https://invalid.url/image.jpg`
- [ ] **Resultado**: Placeholder con inicial del nombre se muestra
- [ ] Agregar imagen de galer√≠a con URL rota
- [ ] **Resultado**: Placeholder de error "Error de carga"

### Campos Vac√≠os

- [ ] Intentar agregar barbero SIN nombre
- [ ] **Resultado**: Error "El nombre es obligatorio"
- [ ] Intentar agregar imagen SIN t√≠tulo
- [ ] **Resultado**: Error "El t√≠tulo es obligatorio"
- [ ] Intentar agregar imagen SIN URL
- [ ] **Resultado**: Error "La URL de la imagen es obligatoria"

### Conexi√≥n Perdida

- [ ] Abrir DevTools ‚Üí Network ‚Üí Offline
- [ ] Intentar agregar barbero
- [ ] **Resultado**: Error "Error de red" o similar
- [ ] Volver Online
- [ ] Reintentar
- [ ] **Resultado**: Funciona correctamente

---

## üìä Resumen de Validaci√≥n

### ‚úÖ Debe funcionar:
- [x] CRUD completo de barberos (agregar, editar, eliminar, toggle)
- [x] CRUD completo de galer√≠a
- [x] B√∫squeda y filtros
- [x] Realtime en admin panels
- [x] Realtime en p√°ginas p√∫blicas
- [x] Estados de carga (spinners)
- [x] Estados vac√≠os (sin datos)
- [x] Validaci√≥n de formularios
- [x] Manejo de errores
- [x] Animaciones y transiciones
- [x] Optimistic updates (cambios instant√°neos)
- [x] Rollback en caso de error
- [x] Responsive design (m√≥vil, tablet, desktop)

### ‚ö†Ô∏è Opcional (requiere Storage):
- [ ] Subida de im√°genes
- [ ] Validaci√≥n de archivos
- [ ] Previsualizaciones

---

## üéâ ¬°Todo Listo!

Si **TODOS** los items marcados funcionan correctamente:

‚úÖ **Gesti√≥n de Barberos y Galer√≠a est√° completa y funcional**

Ahora puedes pasar al siguiente par de configuraciones (3/5):
- **Reportes**
- **Gesti√≥n de Clientes**

---

**¬øEncontraste alg√∫n problema?** Revisa:
1. Consola del navegador para errores
2. Logs de Supabase (Dashboard ‚Üí Logs)
3. Verifica que Realtime est√© activado en las tablas
4. Confirma que las pol√≠ticas RLS permitan las operaciones necesarias
